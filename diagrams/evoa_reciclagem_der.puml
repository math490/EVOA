@startuml entidade_relacionamento

' ==============================
' ENTIDADES PRINCIPAIS
' ==============================

class User {
    +id : Integer <<PK>>
    +name : String
    +email : String <<unique>>
    +password : String
    +cash : Float
    +xp : Integer
    +level : Integer
}

class Material {
    +id : Integer <<PK>>
    +name : String <<unique>>
    +default_weight : Float
}

class TrashLog {
    +id : Integer <<PK>>
    +material_id : Integer <<FK>>
    +user_id : Integer <<FK>>
    +weight : Float
    +date : Date
    +cash_earned : Float
    +xp_earned : Integer
}

entity "DENUNCIA" as Denuncia {
  * id_denuncia : Integer <<PK>>
  --
  # id_usuario : Integer <<FK>>
  * tipo : ENUM('LIXO_ACUMULADO','POLUICAO_AGUA','QUEIMADA_IRREGULAR','OUTROS')
  * descricao : TEXT
  * localizacao : VARCHAR(200)
  * urgencia : ENUM('BAIXA','MEDIA','ALTA')
  * status : ENUM('PENDENTE','EM_ANALISE','RESOLVIDA','CANCELADA')
  * data_denuncia : DATETIME
  * protocolo : VARCHAR(50) <<UNIQUE>>
}

' ==============================
' RELACIONAMENTOS
' ==============================

User "1" -- "0..*" TrashLog : registra >
Material "1" -- "0..*" TrashLog : classifica >
User "1" -- "0..*" Denuncia : reporta >

@enduml
